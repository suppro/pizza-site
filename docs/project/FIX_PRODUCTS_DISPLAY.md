# Исправление проблемы с отображением товаров

## Проблемы, которые были исправлены:

### 1. Фильтр `inStock()`
**Проблема:** В каталоге использовался фильтр `->inStock()`, который показывал только товары с остатком > 0.

**Решение:** Убран фильтр `inStock()` из представлений `dashboard.blade.php` и `welcome.blade.php`. Теперь показываются все активные товары (`is_active = true`), независимо от остатка.

### 2. Пути к изображениям
**Проблема:** 
- Изображения находились в `storage/images/`
- В БД пути были указаны как `/storage/images/...`
- Но для работы через симлинк изображения должны быть в `storage/app/public/images/`

**Решение:**
1. Изображения скопированы в `storage/app/public/images/`
2. Пути в БД обновлены с `/storage/images/...` на `images/...`
3. Метод `getUrlAttribute()` в модели `ProductImage` автоматически добавляет префикс `storage/` к путям

### 3. Структура каталога
Теперь каталог показывает:
- Все активные товары (`is_active = true`)
- Товары с остатком 0 отображаются с пометкой "Нет в наличии"
- Товары с остатком > 0 отображаются с пометкой "В наличии: X"

## Проверка

После этих изменений товары должны отображаться в каталоге. Если товары все еще не видны, проверьте:

1. **Есть ли товары в БД:**
   ```sql
   SELECT COUNT(*) FROM products WHERE is_active = 1;
   ```

2. **Есть ли категории:**
   ```sql
   SELECT COUNT(*) FROM categories;
   ```

3. **Есть ли связь товаров с категориями:**
   ```sql
   SELECT p.id, p.name, p.category_id, c.name as category_name 
   FROM products p 
   LEFT JOIN categories c ON p.category_id = c.id 
   WHERE p.is_active = 1;
   ```

4. **Проверьте симлинк:**
   ```bash
   php artisan storage:link
   ```

5. **Проверьте права доступа к папке:**
   Убедитесь, что папка `storage/app/public/images/` доступна для чтения.

